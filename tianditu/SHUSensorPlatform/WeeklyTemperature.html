<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<script type="text/javascript" src="http://api.tianditu.com/js/maps.js"></script> 
<script src="js/jquery.js"></script>

<script src="js/jquery.min.js"></script>

<title>index</title>
</head>
<style type="text/css">
  div ul{
     display:inline;
	 width:100px;
	 height:200px;
	 float:left;
  }
  ul li{
     list-style:none;
	 text-align:center;
	 height:30px;
	 margin:3px;
	 
  }
  .week{
     color:blue;
	 font-size:20px;
	 font-weight:bold;
  }
  .weather{
     color:orange;
	 font-size:15px;
	 font-weight:bold;
  }
  .temp{
     color:	#484891;
	 font-size:15px;
	 font-weight:bold;
  }
  .img_title{
     color:#F73000;
	 font-size:15px;
	 font-weight:bold; 
  }
  .wind{
     color:green;
	 font-size:15px;
	 font-style:italic;
  }
  .image{
	 height:30px;
  }
</style>
<script> 
function onclick(){
           if(document.getElementById("weekDiv").style.display="none"){
		      document.getElementById("weekDiv").style.display="block";
		   }else{
		     document.getElementById("weekDiv").style.display="none";
		   }
		};
$(document).ready(function(){
$('#changeArea').change(function(){ 
 
	$.ajax({
    type:'POST',
    url:'doc/china.json',
    dataType:'json',
    data:{},
    cache: true,
    async:false,   
    success:function(resultData){
	  //  console.log(resultData);
	    //alert(resultData.weatherinfo[0].city+":"+resultData.weatherinfo[0].temp1);
		$('#weekDiv').css('display','none');
		var obj = document.getElementById("changeArea");
		var i=obj.selectedIndex;
		var location=new Array([126.41,45.45],[125.19,43.52],[123.24,41.50],[110.20,20.02],[111.48,40.49],[87.36,43.38],[90.08,29.39],[101.45,36.38],[106.16,38.20],[103.49,36.03],[114.28,38.02],[113.42,34.48],[114.21,30.37],[113.00,28.11],[117.00,36.38],[118.50,32.02],[117.18,31.51],[112.34,37.52],[108.54,34.16],[104.05,30.39],[102.41,25.00],[106.42,26.35],[120.09,30.14],[119.18,26.05],[115.52,28.41],[113.15,23.08],[108.20,22.48],[116.28,39.54],[117.11,39.09],[121.29,31.14],[106.32,29.32],[114.10,22.18],[113.35,22.14],[121.31,25.03],[112.00,16.25],[113.40,7.48],[123.284,25.446]);
		map.centerAndZoom(new TLngLat(location[i][0],location[i][1]),6);
		map.clearOverLays();
		var icon = new TIcon("http://pic2.sc.chinaz.com/Files/pic/icons128/936/04.png",new TSize(45,44));
		marker = new TMarker(new TLngLat(location[i][0],location[i][1]),{icon:icon});
	    map.addOverLay(marker); 
		var cityname=resultData.weatherinfo[i].city;
		 var config = { 
             text:cityname, 
             offset:new TPixel(0,0), 
             position:new TLngLat(location[i][0],location[i][1]) 
         }; 
         var label=new TLabel(config); 
		 label.setBorderLine(0);
        map.addOverLay(label); 
		TEvent.addListener(marker,"click",onclick);	
		
		$('#weather1').html(resultData.weatherinfo[i].weather1);
		$('#temp1').html(resultData.weatherinfo[i].temp1);
		//$('#img1').html(resultData.weatherinfo[0].img1);
		$('#img_title1').html(resultData.weatherinfo[i].img_title1);
		if(resultData.weatherinfo[i].img_title1=="晴"){
		   $('#img1').html('<img id='+'\"img1\"'+' src=\"icon/day/00.png\"'+' style=\"width:30px;height:30px\"/>');
		}
		$('#wind1').html(resultData.weatherinfo[i].wind1);
		
		$('#weather2').html(resultData.weatherinfo[i].weather2);
		$('#temp2').html(resultData.weatherinfo[i].temp2);
		//$('#img2').html(resultData.weatherinfo[i].img2);
		$('#img_title2').html(resultData.weatherinfo[i].img_title2);
		$('#wind2').html(resultData.weatherinfo[i].wind2);
		
		$('#weather3').html(resultData.weatherinfo[i].weather3);
		$('#temp3').html(resultData.weatherinfo[i].temp3);
		//$('#img3').html(resultData.weatherinfo[i].img3);
		$('#img_title3').html(resultData.weatherinfo[i].img_title3);
		$('#wind3').html(resultData.weatherinfo[i].wind3);
		
		$('#weather4').html(resultData.weatherinfo[i].weather4);
		$('#temp4').html(resultData.weatherinfo[i].temp4);
		//$('#img4').html(resultData.weatherinfo[i].img4);
		$('#img_title4').html(resultData.weatherinfo[i].img_title4);
		$('#wind4').html(resultData.weatherinfo[i].wind4);
		
		$('#weather5').html(resultData.weatherinfo[i].weather5);
		$('#temp5').html(resultData.weatherinfo[i].temp5);
		//$('#img5').html(resultData.weatherinfo[i].img5);
		$('#img_title5').html(resultData.weatherinfo[i].img_title5);
		$('#wind5').html(resultData.weatherinfo[i].wind5);
		
		$('#weather6').html(resultData.weatherinfo[i].weather6);
		$('#temp6').html(resultData.weatherinfo[i].temp6);
		//$('#img6').html(resultData.weatherinfo[i].img6);
		$('#img_title6').html(resultData.weatherinfo[i].img_title6);
		$('#wind6').html(resultData.weatherinfo[i].wind6);
		if(resultData.weatherinfo[i].img1==0){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==99){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==1){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==2){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		if(resultData.weatherinfo[i].img2==0){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==99){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==1){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==2){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img3==0){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==99){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==1){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==2){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		if(resultData.weatherinfo[i].img4==0){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==99){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==1){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==2){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img5==0){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==99){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==1){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==2){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img6==0){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==99){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==1){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==2){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/03.png" style="width:30px;height:30px"/>');
		}
		

    },
    error:function(result){
      console.log(result);
    }

  })
  });
	$.support.cors=true; 
    $.ajax({
    type:'POST',
    url:'doc/china.json',
    dataType:'json',
    data:{},
    cache: true,
    async:false,   
    success:function(resultData){
	  //  console.log(resultData);
	    //alert(resultData.weatherinfo[0].city+":"+resultData.weatherinfo[0].temp1);
		var obj = document.getElementById("changeArea");
		var i=obj.selectedIndex;
		
		$('#weather1').html(resultData.weatherinfo[i].weather1);
		$('#temp1').html(resultData.weatherinfo[i].temp1);
		//$('#img1').html(resultData.weatherinfo[0].img1);
		//alert(resultData.weatherinfo[i].img1);
		$('#img_title1').html(resultData.weatherinfo[i].img_title1);
		if(resultData.weatherinfo[i].img1==0){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==99){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==1){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img1==2){
		   $('#weatherPic1').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		if(resultData.weatherinfo[i].img2==0){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==99){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==1){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img2==2){
		   $('#weatherPic2').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img3==0){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==99){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==1){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img3==2){
		   $('#weatherPic3').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		if(resultData.weatherinfo[i].img4==0){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==99){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==1){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img4==2){
		   $('#weatherPic4').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img5==0){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==99){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==1){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img5==2){
		   $('#weatherPic5').html('<img id="img1" src="icon/day/04.png" style="width:30px;height:30px"/>');
		}
		
		if(resultData.weatherinfo[i].img6==0){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/00.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==99){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/01.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==1){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/02.png" style="width:30px;height:30px"/>');
		}else if(resultData.weatherinfo[i].img6==2){
		   $('#weatherPic6').html('<img id="img1" src="icon/day/03.png" style="width:30px;height:30px"/>');
		}
		
		
		
		$('#wind1').html(resultData.weatherinfo[i].wind1);
		
		$('#weather2').html(resultData.weatherinfo[i].weather2);
		$('#temp2').html(resultData.weatherinfo[i].temp2);
		//$('#img2').html(resultData.weatherinfo[i].img2);
		$('#img_title2').html(resultData.weatherinfo[i].img_title2);
		$('#wind2').html(resultData.weatherinfo[i].wind2);
		
		$('#weather3').html(resultData.weatherinfo[i].weather3);
		$('#temp3').html(resultData.weatherinfo[i].temp3);
		//$('#img3').html(resultData.weatherinfo[i].img3);
		$('#img_title3').html(resultData.weatherinfo[i].img_title3);
		$('#wind3').html(resultData.weatherinfo[i].wind3);
		
		$('#weather4').html(resultData.weatherinfo[i].weather4);
		$('#temp4').html(resultData.weatherinfo[i].temp4);
		//$('#img4').html(resultData.weatherinfo[i].img4);
		$('#img_title4').html(resultData.weatherinfo[i].img_title4);
		$('#wind4').html(resultData.weatherinfo[i].wind4);
		
		$('#weather5').html(resultData.weatherinfo[i].weather5);
		$('#temp5').html(resultData.weatherinfo[i].temp5);
		//$('#img5').html(resultData.weatherinfo[i].img5);
		$('#img_title5').html(resultData.weatherinfo[i].img_title5);
		$('#wind5').html(resultData.weatherinfo[i].wind5);
		
		$('#weather6').html(resultData.weatherinfo[i].weather6);
		$('#temp6').html(resultData.weatherinfo[i].temp6);
		//$('#img6').html(resultData.weatherinfo[i].img6);
		$('#img_title6').html(resultData.weatherinfo[i].img_title6);
		$('#wind6').html(resultData.weatherinfo[i].wind6);
		
		

    },
    error:function(result){
      console.log(result);
    }

  })
 });



</script> 
<script type="text/javascript">
	function onLoad() 
	{ 
		map=new TMap("mapDiv"); 
	   	//设置显示地图的中心点和级别 
		map.enableHandleMouseScroll();
		map.centerAndZoom(new TLngLat(121.36932,31.5353),6);
		map.clearOverLays();
		var icon = new TIcon("http://pic2.sc.chinaz.com/Files/pic/icons128/936/04.png",new TSize(45,44));
		marker = new TMarker(new TLngLat(121.36932,31.5353),{icon:icon});
	    map.addOverLay(marker); 
		 var config = { 
             text:"上海", 
             offset:new TPixel(0,0), 
             position:new TLngLat(121.36932,31.5353) 
         }; 
         var label=new TLabel(config); 
		 label.setBorderLine(0);
        map.addOverLay(label); 
		document.getElementById("weekDiv").style.display="block";
	} 
	</script>
<body onLoad="onLoad()">
<div id="mapDiv" style="position:absolute;width:100%; height:100%;z-index:-100"></div> 
<div style="position:absolute;left:5px;top:5px">
<span style="font-size:25px;font-weight:bold">区域变换</span>
<select id="changeArea" style="width:100px">
    <option>哈尔滨</option>
    <option>长春</option>
    <option>沈阳</option>
    <option>海口</option>
    <option>呼和浩特</option>
    <option>乌鲁木齐</option>
	<option>拉萨</option>
	<option>西宁</option>
	<option>银川</option>
	<option>兰州</option>
	<option>石家庄</option>
	<option>郑州</option>
	<option>武汉</option>
	<option>长沙</option>
	<option>济南</option>
	<option>南京</option>
	<option>合肥</option>
	<option>太原</option>
	<option>西安</option>
	<option>成都</option>
	<option>昆明</option>
	<option>贵阳</option>
	<option>杭州</option>
	<option>福州</option>
	<option>南昌</option>
	<option>广州</option>
	<option>南宁</option>
	<option>北京</option>
	<option>天津</option>
	<option selected="true">上海</option>
	<option>重庆</option>
	<option>香港</option>
	<option>澳门</option>
	<option>台北</option>
	<option>西沙</option>
	<option>南沙</option>
	<option>钓鱼岛</option>
</select>
</div>
<div id="weekDiv" style="position:absolute;right:0px;top:60px;background-color:#888;opcity:0.5;display:none">
  <ul>
   <li id="" class="week">星期一</li>
   <li id="weather1" class="weather"></li>
   <li id="temp1" class="temp"></li>
   <li class="image" id="weatherPic1"></li>
   <li id="img_title1" class="img_title"></li>
   <li id="wind1" class="wind"></li>
  </ul>
  <ul>
   <li id="" class="week">星期二</li>
   <li id="weather2" class="weather"></li>
   <li id="temp2" class="temp"></li>
   <li class="image" id="weatherPic2"><img id="img2" src="icon/day/01.png" style="width:30px;height:30px"/></li>
   <li id="img_title2" class="img_title"></li>
   <li id="wind2" class="wind"></li>
  </ul>
  <ul>
   <li id="" class="week">星期三</li>
   <li id="weather3" class="weather"></li>
   <li id="temp3" class="temp"></li>
   <li class="image" id="weatherPic3"><img id="img3" src="icon/day/02.png" style="width:30px;height:30px"/></li>
   <li id="img_title3" class="img_title"></li>
   <li id="wind3" class="wind"></li>
  </ul>
  <ul>
   <li id="" class="week">星期四</li>
   <li id="weather4" class="weather"></li>
   <li id="temp4" class="temp"></li>
   <li class="image" id="weatherPic4"><img id="img4" src="icon/day/03.png" style="width:30px;height:30px"/></li>
   <li id="img_title4" class="img_title"></li>
   <li id="wind4" class="wind"></li>
  </ul>
  <ul>
   <li id="" class="week">星期五</li>
   <li id="weather5" class="weather"></li>
   <li id="temp5" class="temp"></li>
   <li class="image" id="weatherPic5"><img id="img5" src="icon/day/04.png" style="width:30px;height:30px"/></li>
   <li id="img_title5" class="img_title"></li>
   <li id="wind5" class="wind"></li>
  </ul>
  <ul>
   <li id="" class="week">星期六</li>
   <li id="weather6" class="weather"></li>
   <li id="temp6" class="temp"></li>
   <li class="image" id="weatherPic6"><img id="img6" src="icon/day/05.png" style="width:30px;height:30px"/></li>
   <li id="img_title6" class="img_title"></li>
   <li id="wind6" class="wind"></li>
  </ul>
</div>
</body>
</html>
